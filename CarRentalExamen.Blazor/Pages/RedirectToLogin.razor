@inject NavigationManager Navigation

<div class="d-flex align-items-center justify-content-center min-vh-100 text-muted">
    <div class="spinner-border text-primary me-3" role="status"></div>
    <span>Sending you to the login page...</span>
    @* Kept minimal to avoid layout flashes while redirecting. *@
</div>

@code {
    protected override void OnInitialized()
    {
        var relative = Navigation.ToBaseRelativePath(Navigation.Uri);
        var path = string.IsNullOrWhiteSpace(relative) ? string.Empty : $"/{relative}";
        var returnUrl = string.IsNullOrWhiteSpace(path)
            ? "login"
            : $"login?returnUrl={Uri.EscapeDataString(path)}";

        Navigation.NavigateTo(returnUrl, true);
    }
}
