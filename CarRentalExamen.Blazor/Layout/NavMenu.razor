@inject NavigationManager Navigation

<div class="nav-header">
    <div class="nav-brand">
        <div class="brand-logo">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                <path d="M5 17h-2v-6l2 -5h9l4 5h1a2 2 0 0 1 2 2v4h-2m-4 0h-6m-6 -6h15m-6 0v-5"></path>
            </svg>
        </div>
        <div class="brand-text">
            <span class="brand-name">Velocity</span>
            <span class="brand-tag">Fleet Manager</span>
        </div>
    </div>
    <button title="Navigation menu" class="nav-toggle" @onclick="ToggleNavMenu">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 6h16"></path>
            <path d="M4 12h16"></path>
            <path d="M4 18h16"></path>
        </svg>
    </button>
</div>

<div class="@NavMenuCssClass nav-body" @onclick="ToggleNavMenu">
    <nav class="nav-menu">
        <!-- Overview Section -->
        <div class="nav-section">
            <div class="nav-section-label">Overview</div>
            <NavLink class="nav-item" href="" Match="NavLinkMatch.All">
                <span class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h6v8h-6z"></path>
                        <path d="M4 16h6v4h-6z"></path>
                        <path d="M14 12h6v8h-6z"></path>
                        <path d="M14 4h6v4h-6z"></path>
                    </svg>
                </span>
                <span class="nav-text">Dashboard</span>
                <span class="nav-badge badge-live">Live</span>
            </NavLink>
        </div>

        <!-- Fleet Section -->
        <div class="nav-section">
            <div class="nav-section-label">Fleet Management</div>
            <NavLink class="nav-item" href="cars">
                <span class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                        <path d="M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
                        <path d="M5 17h-2v-6l2 -5h9l4 5h1a2 2 0 0 1 2 2v4h-2m-4 0h-6m-6 -6h15m-6 0v-5"></path>
                    </svg>
                </span>
                <span class="nav-text">Vehicles</span>
            </NavLink>
            <NavLink class="nav-item" href="customers">
                <span class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path>
                        <path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        <path d="M21 21v-2a4 4 0 0 0 -3 -3.85"></path>
                    </svg>
                </span>
                <span class="nav-text">Customers</span>
            </NavLink>
        </div>

        <!-- Bookings Section -->
        <div class="nav-section">
            <div class="nav-section-label">Bookings</div>
            <NavLink class="nav-item" href="reservations">
                <span class="nav-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"></path>
                        <path d="M16 3v4"></path>
                        <path d="M8 3v4"></path>
                        <path d="M4 11h16"></path>
                        <path d="M8 15h2v2h-2z"></path>
                    </svg>
                </span>
                <span class="nav-text">Reservations</span>
            </NavLink>

            <button class="nav-cta" @onclick='@(() => Navigation.NavigateTo("reservations/create"))'>
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5l0 14"></path>
                    <path d="M5 12l14 0"></path>
                </svg>
                <span>New Reservation</span>
            </button>
        </div>
    </nav>

    <!-- Bottom Section -->
    <div class="nav-footer">
        <div class="system-status">
            <span class="status-dot"></span>
            <span class="status-text">System Online</span>
        </div>
    </div>
</div>

@code {
    private bool collapseNavMenu = true;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
